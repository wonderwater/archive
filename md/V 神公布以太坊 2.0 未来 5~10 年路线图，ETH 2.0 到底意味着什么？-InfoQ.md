> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [www.infoq.cn](https://www.infoq.cn/article/lbzislcmslfqmlec5qjb)

3 月 19 日，以太坊创始人 Vitalik Buterin 连续发布数条推文表达了自己对 ETH 2.0 未来约 5-10 年及以后发展的看法，随着发现新信息或新技术，细节可能会有所改变。

Vitalik Buterin 表示，过去两年以太坊团队已经从 “blue sky” 研究（试图理解什么是可能的）阶段转向了具体的研究和开发。团队对权益证明的功能和限制、分片的安全模型等更加了解，类似 zk - snark 这样以前看似遥不可及的技术，现在也越来越实际。

此外，维护兼容性、确保以太坊的平稳过渡是过去两年里不断增长的一个趋势。目前，相关的研究仍在继续，未来比这一次升级更复杂的事情只会越来越多。但同时，Vitalik Buterin 表示，许多更改实际上是在朝着降低复杂性的方向进行。

![](https://static001.infoq.cn/resource/image/11/8d/118bccb157801f4c2e67d977700e9b8d.png)

以太坊 2.0 是一个大家经常听到的一个词。以太坊是世界第二大公链，被认为对未来区块链的发展至关重要。但是，要准确地把它解释清楚并不那么容易。尽管如此，在这篇文章中，我会尽力把它阐释清楚。

很难有一条公链能够像在以太坊一样，完成这么多事情，它是绝大多数代币和智能合约的所在地，它是对开发人员和公司最具吸引力的区块链。但是，以太坊尚未正式达到其真正预期的模样。还需要经过很多过程才能到 “Serenity” 版本（译者注：以太坊的最终版本）。

事实上，向 Serenity 版本的过渡过程中计划要进行一次简单的硬分叉。由于这一过程比预想中的要复杂一些，因此目前可能要经过一个漫长的过程。以太坊 2.0 就是实现这一目标的途径。我们经常在许多加密货币相关的媒体中读到这个词，甚至会发现有成百上千篇关于它的文章。但是，这些文章大多数要么过于简单和笼统，要么过于技术和追究细节。

为什么是以太坊 2.0
-----------

Chromatic Capital 解释说，以太坊现在运行得很慢。以太坊链上每秒仅能够处理 15 条交易，他说道：“在以太坊上运行任何大规模复杂应用程序的成本都非常昂贵。相比较之下， Visa 每秒可处理数千笔交易。以太坊之所以运行缓慢是因为它是去中心化的，而且它必须保持去中心化。”

根据其设计表明，可以通过依靠超级节点（也就是 “共识节点”）来解决这一问题。可以通过提高超级节点服务器的性能来加速处理每笔交易。这一方案是很简单直接的解决方案。区块链可以保持原样，而人们只需要在客户端加大并发量即可。

然而，以太坊的开发者们拒绝这一方案，大家主要是因为担心这一方案会损害去中心化思想以及降低了抗审查的能力。我们都知道如下理论：去跨链世界中的不可能三角 —— 去中心化、可扩展性和安全。这一问题成为包括 IOTA 在内的所有第二代区块链项目的基础，这些项目都声称能够解决这一难题。这些项目中大多数采取的方法（包括以太坊 2.0）都使用了另一种共识机制代替了目前的 PoW 挖矿算法。

以太坊之前的设计或多或少被认为是失败的。因此，根据 Chromatic Capita 称：“以太坊 2.0 是一个完全不同以往的项目，是从零到一的跨越。以太坊 2.0 不仅仅是一次升级，它重塑了区块链。这一新设计使得以太坊更加安全，交易处理的规模扩展至了每秒几千条，同时还提升了可编程性。而所有这一切的提升都不会牺牲其去中心化的属性。”

![](https://static001.infoq.cn/resource/image/12/fb/12f4249a3f1d1dcff0b126b6a98440fb.png)

图片来源：[Daniil Kuželev](https://unsplash.com/@kuzelevdaniil?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 拍摄，发布于 [Unsplash](https://unsplash.com/s/photos/dna?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)  

以太坊 2.0 是如何解决的？
---------------

以太坊 2.0 通过三个主要手段来解决传统的区块链不可能三角问题：分片、权益证明（Proof of Stake）共识算法和新的合约虚拟机。

### 这几个词是什么意思？

**分片**是一种在多个服务器之间拆分数据库（换句话说，对它们进行分区）的方法。就像一台计算机在一个磁盘上有多个分区，但数据仍保留在同一磁盘上一样。区块链也应当在保证其一致性的前提下，分为多个分区。 每一个 “分片” 的安全性应与整个系统的安全性一样高。

**权益证明共识算法**中没有用大量能源进行挖矿、组装区块数据的矿工了。他们被权益抵押者们（Stakers）取代了：这些节点们需要证明他们拥有一定数量的以太币（译者注：使用以太币进行抵押）。这一算法这不仅具有更高的能源效率，而且还能确保更快地完成交易的确认与共识，并且最大程度地保证了这些验证者们的去中心化。以太坊的开发人员多年来一直致力于完善共识过程，希望这一过程能够快速完成交易的共识，并且确保抵押者们能够遵守规则（防止节点作恶）。有了权益证明，以太坊上的交易在几秒钟内就可以完成确认，并且该链还可以抵抗 51％ 攻击。

最后，**新的虚拟机**能够使开发人员创建自己的执行环境。这一设计能够将其他区块链（例如 BTC 或 Zcash）的规则引入到分片上。因此，以太坊可以成为不同区块链的通用构造。

这三个目标中的每一个都是一个难题。到目前为止，还没有可用的区块链分片，许多聪明人也正在争论权益证明算法是否真正有效。以太坊开发人员着手解决区块链开发的若干挑战，从而创造了一个架构，该架构保留了区块链开发的核心约束以及包含了对应的折衷方案。

阶段 0：信标链（Beacon Chain）
----------------------

以太坊 2.0 的核心是信标链。新创造的这条新链最初可以协调多达 64 个分片链。 Chromatic Capital 将其描述为整个以太坊 2.0 网络中的 “命令和控制中心”。

信标链管理着 Casper（以太坊 2.0 的权益证明协议）。它记录了验证者及其抵押的以太币数量，并且随机选择区块的验证者，并为他们随机分配一个分片链。信标链的共识规则是，对不诚实、作恶的验证者执行制裁，信标链充当着不同分片之间的链接。

以太坊 2.0 的验证者们是通过 PoS 算法票选出来的，换句话说，也就是用户使用他们的以太币（也叫做 “证明”）投票选择出来的。当分片链中的某个块收集到足够多的此类证明之后后，就会在信标链上收到所谓的交叉链接。从这一刻起，该区块已 “完成共识”，这意味着这一区块不可能被撤销和回滚。分片链上的区块安全性与信标链（即主链）上的相同。该过程模糊地为 Ripple 的共识算法以及 IOTA 的未来计划提供了思路：网络上的节点以某种方式在区块上进行投票。

作为对他们工作的奖励，验证者们将获得 ETH2 代币。ETH2 是信标链上的原生代币。从长远来看，它将取代目前的以太币，并且在不受固定限制的情况下进行分配，以确保从长远来看该链的安全性。

信标链大概会在 2020 年的第二或第三季度启动。这将启动向以太坊向阶段 0 过渡的阶段。该阶段可以运行一个信标客户端，并将目前的以太币（现称为 ETH1）转移到信标链上，并且在这个过程中将它们转换为 ETH2。这是一个单向过程（ETH1 只能转换为 ETH2，ETH2 不能转换为 ETH1），因此 ETH1 被有效地销毁掉了。

因此，如果阶段 0 成功完成，该阶段将会有两条以太坊区块链：eth1（当前链） 和 eth2。对于用户来说，eth2 在这时没有任何意义，因为尚无分片链连接到它。它可以被形容没有身体的骨架，或者说还没有形成房屋的建筑脚手架。

阶段 1：分片链
--------

预计在 2021 年，第一条分片链会启动。这些分片最初将以原始格式存储数据。他们无法根据某些共识规则对数据进行处理，甚至无法显示用户或地址的帐户余额。它们仅用作测试分片架构的实验室，但也可能被用作数据存储来帮助 DApp 更好地进行扩展。

信标链在阶段 1 的工作重点是：在这一阶段，它开始通过交叉链接引用分片的状态，并最终对它们进行共识处理。现在，人们可以将其看做是一个区块链，而其他分片链（此时仍不起作用）在绕着它旋转的同时与它连接着。

对于这一阶段，可能没有特别多要说的。其中会包含成千上万的细节、讨论、或大或小的更新，帮助以太坊到达这一阶段。建立并运行新的权益证明系统并且建立一个可以充当各种数据链的控制中心的链是一个巨大的挑战。

在这一阶段， eth1 链和 eth2 链依然会并行存在。从第二阶段开始，后续阶段会变得非常令人兴奋。

阶段 2：实现愿景
---------

根据以太坊路线图，这一阶段将会实现 “以太坊 2.0 的真正愿景”：分片链将会进行交易处理。从这一阶段开始，ETH 2.0 网络可以进行实际应用。在项目的后续过程中，还会在分片上激活智能合约。然后上述新的执行环境将生效，该这一环境上，允许在分片上激活自定义的规则，例如，模拟其他区块链，如比特币，Zcash 或 ETH 1.0。

Chromatic Capitals 很好地解释了这一点：“就像 ETH 1.0 从比特币的设计中抽象出来，然后在区块链上实现了智能合约一样，ETH 2.0 也将抽象出 ETH 1.0 以重新定义区块链计算的本质。” 第二阶段结合了所有链的功能。分片链（以前是纯数据存储）现在正在变成结构化链，将智能合约的状态与共识过程联系起来。开发人员可以在一个分片上实现他们的 DApp，以太坊成为由信标链控制的多链系统。

第二阶段预计在 2021 年末或 2022 年初开始。根据以太坊路线图，第二阶段的许多部分，例如执行环境的概念化，“仍在深入研究和开发中”。

![](https://static001.infoq.cn/resource/image/2a/2c/2ab1ebb9bb84fc36e22fb7627d72942c.png)

图片来源：[Joshua Earle](https://unsplash.com/@joshuaearle?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 拍摄，发布于 [Unsplash](https://unsplash.com/s/photos/dna?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)  

阶段 3~6
------

ETH 2.0 计划会分为六个阶段逐步推出。但是，根据路线图的描述，从第 3 阶段开始，任何一种预测都仅仅是推测，很多地方都可能会改变。有可能在这些阶段的某个时候，ETH1 可能就死掉了。但是，如果这一切按计划发生，或者因为所有以太坊和用户都已逐步迁移，ETH 2.0 就应该取代旧的区块链。只是现在，这些都无法确定。

以太坊的 Github Wiki 文档描述了后续的四个阶段：

### 阶段 3：轻客户端状态协议

客户端变得状态极简。这一阶段将减少单个节点必须携带的以太坊状态数据的大小，但是并不会完全消除节点的这一部分数据存储。

### 阶段 4：跨链交易

我认为，这一跨链交易指的是在分片链直接的跨链交易。

### 阶段 5：与主链安全紧密连接

### 阶段 6：超二次或者指数级的分片

分片链中将会有分片，并且各个分片链将成为其分片的信标链。

但是，目前还缺少有关这些阶段的具体信息，并且阶段性的目标在什么时候可用也不知道，这些信息都是来自高度抽象的论文或来自在线讨论的片段。因此，目前尚未对 ETH 2.0 的具体形式做出明确定义。因此，完成 Serenity 版本的以太坊可能需要一段时间（保守估计可能还有 4、5 年）。

**原文链接：**

[What Exactly Does Ethereum 2.0 Mean?](https://medium.com/swlh/what-exactly-does-ethereum-2-0-mean-676983650c6b)